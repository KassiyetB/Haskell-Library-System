foldr (\borrow acc -> Map.insertWith (+) (bookTitle borrow) 1 acc) Map.empty (loanRecords library)

foldr 

function - (\borrow acc -> Map.insertWith (+) (bookTitle borrow) 1 acc)

accumulator - Map.empty  ( meaning accumulator is 0 )

list - (loanRecords library)



(\borrow acc -> Map.insertWith (+) (bookTitle borrow) 1 acc)

borrow - is the single object
acc - is the empty list
(bookTitle borrow) - gets title of the book

Map.insertWith (+) title 1 acc - insert the book title into the acc
title - is the key
1 - is the value

if the book already exists then the (+) increase the id



In Haskell, Map.insertWith is a function from the Data.Map module, which is part of the containers package. It allows you to insert a key-value pair into a Map, but it also provides a way to modify the existing value associated with a key if the key is already present.